SC.MODULE_INFO['reminders/reminder_details'].source = "SC.metricsFor(\"zh-cn\",{\"Recurrence.SelectList.width\":148,\"DueDate.AllDay.Checkbox.left\":94,\"Done.Button.width\":40}),SC.stringsFor(\"zh-cn\",{\"ReminderDetails.AllDayTitle\":\"全天\",\"ReminderDetails.Description.Hint\":\"备注（可选）\",\"ReminderDetails.DetailsTitle\":\"详细信息\",\"ReminderDetails.DueDateTitle\":\"截止日期\",\"ReminderDetails.EndDateTitle\":\"结束日期\",\"ReminderDetails.ListTitle\":\"列表\",\"ReminderDetails.OnADayTitle\":\"在以下时间提醒我\",\"ReminderDetails.PriorityTitle\":\"优先级\",\"ReminderDetails.RecurrenceTitle\":\"重复\",\"ReminderDetails.RemindMeTitle\":\"提醒我\"}),ReminderDetails=SC.Object.create({NAMESPACE:\"ReminderDetails\",VERSION:\"1.0\",DIALOG_DEFAULT_WIDTH:325,DIALOG_DEFAULT_HEIGHT:305,DIALOG_ROW_PADDING:20,DIALOG_ROW_HEIGHT:20,DATE_PICKER_WIDTH:113,TIME_PICKER_WIDTH:68,MERIDIAN_PICKER_WIDTH:71,COLLECTION_DROPDOWN_WIDTH:148,PRIORITY_DROPDOWN_WIDTH:115,SPACING_BETWEEN_REMIND_ME_DETAIL_VIEWS:10,displayDetailsDialog:function(e,t){ReminderDetails.reminderDetailsDisplayController.displayDetailsDialog(e,t)}}),ReminderDetails.reminderDetailsController=SC.ObjectController.create({content:null,_detailsNestedStore:null,setContent:function(e){var t=this.getStore();e=t.materializeRecord(e.get(\"storeKey\"));if(SC.none(e)){CW.fatalError(\"ReminderDetailsController.setContent passed null value\");return}this.set(\"content\",e),Reminders.forceRunLoop()},setCollection:function(e){var t=this.get(\"content\"),n;if(SC.none(t))return;n=this.getStore().find(Reminders.Collection,e),SC.none(n)||(t.set(\"pGuid\",n),t.set(\"completedDate\",null),t.set(\"createdDateExtended\",CW.Date.now().incrementDate(1).time()))},deleteContent:function(){var e=Reminders.remindersController\n.getStore(),t=this.get(\"content\");if(SC.none(t)){CW.fatalError(\"ReminderDetailsController.deleteContent requested but no content assigne\");return}t=e.materializeRecord(t.storeKey),this.releaseStore(),t.destroy(),e.commitChanges()},commitChanges:function(){var e=this.getStore(),t,n,r;e.hasChanges&&(t=Reminders.remindersController.getStore(),n=this.get(\"content\"),r=t.materializeRecord(n.storeKey),n.get(\"etag\")!==r.get(\"etag\")&&n.set(\"etag\",r.get(\"etag\")),e.commitChanges(),t.reset()),this.releaseStore()},discardChanges:function(){var e=this.getStore();e.discardChanges(),this.releaseStore()},releaseStore:function(){if(SC.none(this._detailsNestedStore)){CW.fatalError(\"ReminderDetailsController.deleteContent requested but no content assigne\");return}this._detailsNestedStore.destroy(),this._detailsNestedStore=null,this.set(\"content\",null)},getStore:function(){return SC.none(this._detailsNestedStore)&&(this._detailsNestedStore=Reminders.NestedStore.chain(\"ReminderDetails nested store\",Reminders.store)),this._detailsNestedStore}}),ReminderDetails.DateEntryView=Reminders.DateTokenedEntryView.extend({classNames:[\"date-entry-view\"],cwDate:CW.Date.create().now().done(),_cwDate:function(e,t){var n=this.get(\"cwDate\");return t&&(n&&(t=CW.Date.create(t,CW.DATE_TIME),n=CW.Date.create(n,CW.DATE_TIME),t.hours(n.hours()),t.minutes(n.minutes()),t=t.done()),n=t,this.setCWDate(n)),n}.property(\"cwDate\").cacheable(),date:function(e,t){t&&this.setCWDate(CW.Date.create(t,CW.DATE_TIME).done());var n=CW.Date.create(this.get(\"cwDate\"),CW.DATE_TIME),r=n.dateObject(),i=new Date;return i.setTime(r.getTime())\n,r._isUsingUTC&&i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i}.property(\"cwDate\").cacheable(),didBecomeFirstResponder:function(){var e=this.get(\"frame\"),t=this.convertFrameToView(e,null);this.picker=ReminderDetails.DatePicker.create({dateBinding:\".owner._cwDate\",owner:this}),this.picker.popup(this),arguments.callee.base.apply(this,arguments),this.addObserver(\"cwDate\",this,this.userSelectedDate)},willLoseFirstResponder:function(){this.removeObserver(\"cwDate\",this,this.userSelectedDate),this.picker.remove(),this.picker.destroy(),arguments.callee.base.apply(this,arguments)},keyDown:function(e){return e.commandCodes().contains(\"escape\")?(this.resignFirstResponder(),e.stopPropagation(),e.preventDefault(),YES):arguments.callee.base.apply(this,arguments)},setCWDate:function(e){this.set(\"cwDate\",e)},userSelectedDate:function(){this.invokeLast(\"resignFirstResponder\")},passThroughClickForView:function(e){return e.kindOf(Reminders.TokenedEntryView)?YES:NO}}),Reminders.TimeEntryView=Reminders.TimeTokenedEntryView.extend({classNames:[\"time-text-field\"],cwDate:CW.Date.create().now().done(),date:function(e,t){t&&this.setCWDate(CW.Date.create(t,CW.DATE_TIME).done());var n=CW.Date.create(this.get(\"cwDate\"),CW.DATE_TIME),r=n.dateObject(),i=new Date;return i.setTime(r.getTime()),r._isUsingUTC&&i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i}.property(\"cwDate\").cacheable(),setCWDate:function(e){this.set(\"cwDate\",e)}}),ReminderDetails.RemindMeDetailsView=SC.View.extend({classNames:[\"remind-me-details\"],childViews:[\"dateEntryView\",\"timeEntryView\",\"meridianListView\"],isVisibleBinding:\"ReminderDetails.reminderDetailsController.hasTriggerOnDate\"\n,dateEntryView:ReminderDetails.DateEntryView.design({layout:{left:1,top:0,width:ReminderDetails.DATE_PICKER_WIDTH,height:26},cwDate:null,cwDateBinding:\"ReminderDetails.reminderDetailsController.triggerOnDate\",setCWDate:function(e){ReminderDetails.reminderDetailsDisplayController.setRemindMeDate(e)}}),timeEntryView:Reminders.TimeEntryView.design({layout:{top:0,left:ReminderDetails.DATE_PICKER_WIDTH+ReminderDetails.SPACING_BETWEEN_REMIND_ME_DETAIL_VIEWS,width:ReminderDetails.TIME_PICKER_WIDTH,height:26},cwDate:null,cwDateBinding:\"ReminderDetails.reminderDetailsController.triggerOnDate\",render:function(e){if(Reminders.preferencesController.get(\"hasMeridian\")&&Reminders.Defaults.meridianBeforeTimeEntry){var t=this;this.invokeLast(function(){t.adjust({left:ReminderDetails.DATE_PICKER_WIDTH+ReminderDetails.TIME_PICKER_WIDTH+13})})}return arguments.callee.base.apply(this,arguments)},setCWDate:function(e){ReminderDetails.reminderDetailsDisplayController.setRemindMeDate(e)}}),meridianListView:CW.SelectView.design({classNames:[\"meridian-select-list\"],layout:{top:0,left:ReminderDetails.DATE_PICKER_WIDTH+ReminderDetails.TIME_PICKER_WIDTH+ReminderDetails.SPACING_BETWEEN_REMIND_ME_DETAIL_VIEWS*2-2,width:ReminderDetails.MERIDIAN_PICKER_WIDTH},isVisibleBinding:\"Reminders.preferencesController.hasMeridian\",itemsBinding:\"ReminderDetails.reminderDetailsDisplayController.meridianList\",itemTitleKey:\"title\",itemValueKey:\"value\",valueBinding:\"ReminderDetails.reminderDetailsDisplayController.selectedMeridian\",needsEllipsis:NO,render:function(e){if(Reminders.preferencesController.get(\"hasMeridian\")&&\nReminders.Defaults.meridianBeforeTimeEntry){var t=this;this.invokeLast(function(){t.adjust({left:ReminderDetails.DATE_PICKER_WIDTH+5})})}return arguments.callee.base.apply(this,arguments)}})}),ReminderDetails.DueDateCheckboxView=SC.View.extend({classNames:[\"due-date-checkbox\"],childViews:[\"dueDateCheckboxView\",\"allDayCheckboxView\"],isVisibleBinding:\"ReminderDetails.reminderDetailsDisplayController.dueDateIsVisible\",dueDateCheckboxView:SC.CheckboxView.design({layout:{top:0,height:ReminderDetails.DIALOG_ROW_HEIGHT},controlSize:SC.LARGE_CONTROL_SIZE,title:\"ReminderDetails.DueDateTitle\".loc(),valueBinding:\"ReminderDetails.reminderDetailsDisplayController.isDueDateSet\"}),allDayCheckboxView:SC.CheckboxView.design({layout:{top:0,left:\"DueDate.AllDay.Checkbox.left\".locMetric(),height:ReminderDetails.DIALOG_ROW_HEIGHT},controlSize:SC.LARGE_CONTROL_SIZE,title:\"ReminderDetails.AllDayTitle\".loc(),isVisibleBinding:\"ReminderDetails.reminderDetailsController.hasDueDate\",valueBinding:\"ReminderDetails.reminderDetailsController.dueDateIsAllDay\"})}),ReminderDetails.DueDateDetailsView=SC.View.extend({classNames:[\"due-date-details\"],childViews:[\"dateEntryView\",\"timeMeridianContainerView\"],isVisibleBinding:\"ReminderDetails.reminderDetailsDisplayController.dueDateIsVisibleAndHasValue\",dateEntryView:ReminderDetails.DateEntryView.design({layout:{top:0,width:ReminderDetails.DATE_PICKER_WIDTH,height:26},cwDate:null,cwDateBinding:\"ReminderDetails.reminderDetailsController.dueDate\",setCWDate:function(e){ReminderDetails.reminderDetailsDisplayController.setDateOnProperty(\"dueDate\",e)}}),timeMeridianContainerView\n:SC.View.design({classNames:[\"time-meridian-container\"],childViews:[\"timeEntryView\",\"meridianListView\"],layout:{top:0,left:ReminderDetails.DATE_PICKER_WIDTH+5},timeEntryView:Reminders.TimeEntryView.design({layout:{left:0,width:ReminderDetails.TIME_PICKER_WIDTH,height:26},cwDate:null,cwDateBinding:\"ReminderDetails.reminderDetailsController.dueDate\",isEnabledBinding:SC.Binding.not(\"ReminderDetails.reminderDetailsController.dueDateIsAllDay\"),render:function(e){if(Reminders.preferencesController.get(\"hasMeridian\")&&Reminders.Defaults.meridianBeforeTimeEntry){var t=this;this.invokeLast(function(){t.adjust({left:ReminderDetails.TIME_PICKER_WIDTH-2})})}return arguments.callee.base.apply(this,arguments)},setCWDate:function(e){ReminderDetails.reminderDetailsDisplayController.setDateOnProperty(\"dueDate\",e)}}),meridianListView:CW.SelectView.design({classNames:[\"meridian-select-list\"],layout:{left:ReminderDetails.TIME_PICKER_WIDTH+5,width:ReminderDetails.MERIDIAN_PICKER_WIDTH},isEnabledBinding:SC.Binding.not(\"ReminderDetails.reminderDetailsController.dueDateIsAllDay\"),isVisibleBinding:\"Reminders.preferencesController.hasMeridian\",itemsBinding:\"ReminderDetails.reminderDetailsDisplayController.meridianList\",itemTitleKey:\"title\",itemValueKey:\"value\",valueBinding:\"ReminderDetails.reminderDetailsDisplayController.selectedDueDateMeridian\",needsEllipsis:NO,render:function(e){if(Reminders.preferencesController.get(\"hasMeridian\")&&Reminders.Defaults.meridianBeforeTimeEntry){var t=this;this.invokeLast(function(){t.adjust({left:0})})}return arguments.callee.base.apply(this,arguments)}})})}),ReminderDetails\n.RecurrenceSelectView=SC.View.extend({classNames:[\"recurrence-select-view\"],childViews:[\"recurrenceListView\"],isVisibleBinding:\"ReminderDetails.reminderDetailsDisplayController.recurrenceIsVisible\",recurrenceListView:CW.SelectView.design({classNames:[\"recurrence-select-list\"],layout:{left:1,width:\"Recurrence.SelectList.width\".locMetric()},itemsBinding:\"ReminderDetails.reminderDetailsDisplayController.recurrenceList\",itemTitleKey:\"title\",itemValueKey:\"value\",valueBinding:\"ReminderDetails.reminderDetailsDisplayController.selectedRecurrence\",needsEllipsis:NO})}),ReminderDetails.EndDateCheckboxView=SC.CheckboxView.extend({classNames:[\"end-date-checkbox\"],isVisibleBinding:\"ReminderDetails.reminderDetailsController.hasRecurrence\",controlSize:SC.LARGE_CONTROL_SIZE,title:\"ReminderDetails.EndDateTitle\".loc(),valueBinding:\"ReminderDetails.reminderDetailsDisplayController.isRecurrenceEndDateSet\"}),ReminderDetails.EndDateDetailsView=SC.View.extend({classNames:[\"end-date-details\"],childViews:[\"dateEntryView\"],isVisibleBinding:\"ReminderDetails.reminderDetailsController.hasRecurrenceEndDate\",dateEntryView:ReminderDetails.DateEntryView.design({layout:{top:0,left:1,width:ReminderDetails.DATE_PICKER_WIDTH,height:26},cwDate:null,cwDateBinding:\"ReminderDetails.reminderDetailsController.recurrence.until\",setCWDate:function(e){var t=ReminderDetails.reminderDetailsController.get(\"recurrence\");t.set(\"until\",e)}})}),ReminderDetails.ExtendedDetailsContainerView=SC.View.extend({classNames:[\"extended-details-container\"],childViews:[\"collectionTitleView\",\"priorityTitleView\",\"collectionSelectListView\",\"prioritySelectListView\"\n,\"descriptionTextAreaView\"],collectionTitleView:SC.LabelView.design({classNames:[\"label-title\"],layout:{top:0,height:ReminderDetails.DIALOG_ROW_HEIGHT,left:0,width:148},value:\"ReminderDetails.ListTitle\".loc()}),priorityTitleView:SC.LabelView.design({classNames:[\"label-title\"],layout:{top:0,height:ReminderDetails.DIALOG_ROW_HEIGHT,left:174},value:\"ReminderDetails.PriorityTitle\".loc()}),collectionSelectListView:CW.SelectView.design({classNames:[\"collection-select-list\"],layout:{top:24,left:1,width:ReminderDetails.COLLECTION_DROPDOWN_WIDTH},escapeHTML:YES,itemsBinding:SC.Binding.oneWay(\"Reminders.collectionsController.arrangedObjects\"),itemValueKey:\"guid\",itemTitleKey:\"title\",isEnabledKey:\"isReadWrite\",valueBinding:\"ReminderDetails.reminderDetailsDisplayController.selectedCollection\",menu:CW.SelectViewMenuPane.extend({_updateMenuWidth:function(){var e=this.get(\"menuItemViews\");if(!e)return;var t=e.length,n,r,i=this.get(\"minimumMenuWidth\"),s=ReminderDetails.COLLECTION_DROPDOWN_WIDTH+this.get(\"menuMinimumWidthOffset\");for(n=0;n<t;n++)r=e[n],i=Math.max(i,r.get(\"measuredSize\").width+this.get(\"menuWidthPadding\"));i=Math.min(i,s),this.adjustDesiredSize(\"width\",i)}})}),prioritySelectListView:CW.SelectView.design({classNames:[\"priority-select-list\"],layout:{top:24,left:169,width:ReminderDetails.PRIORITY_DROPDOWN_WIDTH},itemsBinding:\"ReminderDetails.reminderDetailsDisplayController.priorityList\",itemTitleKey:\"title\",itemValueKey:\"value\",valueBinding:\"ReminderDetails.reminderDetailsController.priority\",needsEllipsis:NO}),descriptionTextAreaView:SC.TextFieldView.design({classNames:[\"description-text-area\"\n],layout:{top:71,left:1,right:0,height:70},isTextArea:YES,controlSize:SC.LARGE_CONTROL_SIZE,hint:\"ReminderDetails.Description.Hint\".loc(),valueBinding:\"ReminderDetails.reminderDetailsController.description\",maxLength:Reminders.MAX_LENGTH_REMINDER_DESCRIPTION,fieldDidFocus:function(e){if(SC.browser.isIE){var t=this;this.invokeLater(function(){t.set(\"selection\",SC.TextSelection.create({start:0,end:0}))},100)}return arguments.callee.base.apply(this,arguments)}})}),ReminderDetails.ButtonContainerView=SC.View.extend({classNames:[\"button-container\"],childViews:[\"leftView\",\"rightView\"],leftView:SC.View.design({layout:{left:0,width:.5},classNames:[\"text-align-left\"],childViews:[\"deleteButtonView\"],deleteButtonView:Reminders.ButtonView.design({classNames:[\"delete-button\"],useStaticLayout:YES,isDelete:YES,layout:{top:10,left:0,height:27,width:\"auto\"},title:\"Button.Delete\".loc(),target:\"ReminderDetails.reminderDetailsDisplayController\",action:\"deleteReminder\"})}),rightView:SC.View.design({layout:{right:1,width:.5},classNames:[\"text-align-right\"],childViews:[\"doneButtonView\"],doneButtonView:Reminders.ButtonView.design({useStaticLayout:YES,isDefault:YES,layout:{top:10,right:0,height:27,width:\"auto\"},title:\"Button.Done\".loc(),target:\"ReminderDetails.reminderDetailsDisplayController\",action:\"saveChanges\"})})}),ReminderDetails.DetailsDialog=CW.PickerPane.extend({classNames:[\"details-dialog\"],layouts:[\"onLeft\"],onLeft:CW.PickerLayout.ON_LEFT,desiredSize:{width:ReminderDetails.DIALOG_DEFAULT_WIDTH,height:ReminderDetails.DIALOG_DEFAULT_HEIGHT},shouldDismissAutomatically:NO,isModal:YES,hasDueDateBinding\n:\"ReminderDetails.reminderDetailsController.hasDueDate\",hasTriggerOnDateBinding:\"ReminderDetails.reminderDetailsController.hasTriggerOnDate\",hasRecurrenceBinding:\"ReminderDetails.reminderDetailsController.hasRecurrence\",hasRecurrenceEndDateBinding:\"ReminderDetails.reminderDetailsController.hasRecurrenceEndDate\",keyboardShortcuts:{escape:\"revertChangesOnDismiss\"},dismissAction:\"saveChangesOnDismiss\",revertChangesOnDismiss:function(){ReminderDetails.reminderDetailsDisplayController.revertChanges()},saveChangesOnDismiss:function(){ReminderDetails.reminderDetailsDisplayController.saveChanges()},contentView:SC.View.design({classNames:[\"details-content\"],layout:{left:ReminderDetails.DIALOG_ROW_PADDING,right:ReminderDetails.DIALOG_ROW_PADDING+1},childViews:[\"detailsTitleView\",\"remindMeTitleView\",\"remindMeTopView\",\"remindMeAndDueDateContainerView\",\"extendedDetailsContainerView\",\"buttonContainerView\"],detailsTitleView:SC.LabelView.design({classNames:[\"details-title\"],needsEllipsis:YES,layout:{top:18,left:0,right:0,height:28},value:\"ReminderDetails.DetailsTitle\".loc()}),remindMeTitleView:SC.LabelView.design({classNames:[\"label-title\"],layout:{top:52,left:0,height:ReminderDetails.DIALOG_ROW_HEIGHT},value:\"ReminderDetails.RemindMeTitle\".loc()}),remindMeTopView:SC.View.extend({classNames:[\"remind-me-top\"],childViews:[\"remindMeCheckboxView\"],layout:{top:74,height:20},remindMeCheckboxView:SC.CheckboxView.design({layout:{top:0,left:-4,height:ReminderDetails.DIALOG_ROW_HEIGHT},controlSize:SC.LARGE_CONTROL_SIZE,valueBinding:\"ReminderDetails.reminderDetailsDisplayController.isTriggerOnDateSet\"\n,title:\"ReminderDetails.OnADayTitle\".loc()})}),remindMeAndDueDateContainerView:SC.View.design(SC.FlowedLayout,{childViews:[\"remindMeDetailsView\",\"dueDateCheckboxView\",\"dueDateDetailsView\",\"recurrenceSelectView\",\"endDateCheckboxView\",\"endDateDetailsView\"],classNames:[\"remind-me-bottom\"],shouldResizeWidth:NO,layoutDirection:SC.LAYOUT_VERTICAL,canWrap:NO,layout:{top:98},remindMeDetailsView:ReminderDetails.RemindMeDetailsView.design({flowSpacing:{left:0,top:0,right:0,bottom:0},layout:{height:36}}),dueDateCheckboxView:ReminderDetails.DueDateCheckboxView.design({flowSpacing:{left:-4,top:0,right:0,bottom:0},layout:{height:ReminderDetails.DIALOG_ROW_HEIGHT+5}}),dueDateDetailsView:ReminderDetails.DueDateDetailsView.design({flowSpacing:{left:0,top:0,right:0,bottom:0},layout:{height:32}}),recurrenceSelectView:ReminderDetails.RecurrenceSelectView.design({flowSpacing:{left:0,top:0,right:0,bottom:0},layout:{height:35}}),endDateCheckboxView:ReminderDetails.EndDateCheckboxView.design({flowSpacing:{left:-4,top:0,right:0,bottom:0},layout:{height:ReminderDetails.DIALOG_ROW_HEIGHT+5}}),endDateDetailsView:ReminderDetails.EndDateDetailsView.design({flowSpacing:{left:0,top:0,right:0,bottom:0},layout:{height:40}})}),extendedDetailsContainerView:ReminderDetails.ExtendedDetailsContainerView.design({layout:{bottom:54,left:0,right:0,height:144}}),buttonContainerView:ReminderDetails.ButtonContainerView.design({layout:{left:0,right:0,bottom:14,height:37}})}),didCreateLayer:function(){this.invokeLast(\"layoutDialogUI\")},shouldLayoutDialogUI:function(){this.invokeOnceLater(\"layoutDialogUI\",10)}.observes(\"hasDueDate\"\n,\"hasTriggerOnDate\",\"hasRecurrence\",\"hasRecurrenceEndDate\"),layoutDialogUI:function(){var e=this.getPath(\"contentView.remindMeAndDueDateContainerView\"),t=ReminderDetails.DIALOG_DEFAULT_HEIGHT,n=this.get(\"layout\").height;t+=e.get(\"layout\").minHeight,n!==t&&this.adjustDesiredSize({height:t})}}),ReminderDetails.reminderDetailsDisplayController=SC.Object.create({priorityList:[{title:\"Reminder.Priority.None\".loc(),value:Reminders.PRIORITY_NONE},{title:\"Reminder.Priority.Low\".loc(),value:Reminders.PRIORITY_LOW},{title:\"Reminder.Priority.Medium\".loc(),value:Reminders.PRIORITY_MEDIUM},{title:\"Reminder.Priority.High\".loc(),value:Reminders.PRIORITY_HIGH}],meridianList:[{title:\"Reminder.DueDate.Time.AM\".loc(),value:\"SC.Date.Period.AM\".loc()},{title:\"Reminder.DueDate.Time.PM\".loc(),value:\"SC.Date.Period.PM\".loc()}],recurrenceList:[{title:\"Reminder.Recurrence.None\".loc(),value:\"none\"},{title:\"Reminder.Recurrence.Daily\".loc(),value:\"daily\"},{title:\"Reminder.Recurrence.Weekly\".loc(),value:\"weekly\"},{title:\"Reminder.Recurrence.BiWeekly\".loc(),value:\"biweekly\"},{title:\"Reminder.Recurrence.Monthly\".loc(),value:\"monthly\"},{title:\"Reminder.Recurrence.Yearly\".loc(),value:\"yearly\"}],detailsDialog:null,contentBinding:\"ReminderDetails.reminderDetailsController.content\",displayDetailsDialog:function(e,t){if(!SC.none(this.detailsDialog)){SC.debug(\"A reminder details dialog is already showing\");return}ReminderDetails.reminderDetailsController.setContent(t),this.dueDateIsVisibleOnLaunch=this._shouldShowDueDateOnLaunch(),this.detailsDialog=ReminderDetails.DetailsDialog.create(),this.detailsDialog.popup(\ne)},deleteReminder:function(){this.removeDialog(),ReminderDetails.reminderDetailsController.deleteContent()},revertChanges:function(){this.removeDialog(),ReminderDetails.reminderDetailsController.discardChanges()},saveChanges:function(){this.removeDialog(),ReminderDetails.reminderDetailsController.commitChanges()},removeDialog:function(){this.detailsDialog.remove(),this.detailsDialog=null,this.dueDateIsVisibleOnLaunch=null},selectedRecurrence:function(e,t){var n=this.get(\"content\"),r,i,s;if(SC.none(n))return;i=n.get(\"recurrence\");if(!SC.none(t)){s=i.get(\"until\"),i.clear();switch(t){case\"daily\":i.set(\"freq\",\"daily\"),i.set(\"interval\",1),i.set(\"until\",s);break;case\"weekly\":i.set(\"freq\",\"weekly\"),i.set(\"interval\",1),i.set(\"until\",s);break;case\"biweekly\":i.set(\"freq\",\"weekly\"),i.set(\"interval\",2),i.set(\"until\",s);break;case\"monthly\":i.set(\"freq\",\"monthly\"),i.set(\"interval\",1),i.set(\"until\",s);break;case\"yearly\":i.set(\"freq\",\"yearly\"),i.set(\"interval\",1),i.set(\"until\",s);break;case\"none\":break;default:CW.fatalError(\"Got a unknown recurrence value %@\",t)}}switch(i&&i.get(\"freq\")){case\"daily\":r=\"daily\";break;case\"weekly\":i.get(\"interval\")===2?r=\"biweekly\":r=\"weekly\";break;case\"monthly\":r=\"monthly\";break;case\"yearly\":r=\"yearly\";break;default:r=\"none\"}return r}.property(\"content.recurrence\").cacheable(),selectedMeridian:function(e,t){var n=this.get(\"content\");if(SC.none(n))return;return SC.none(t)||(this._setMeridian(\"triggerOnDate\",t),this.get(\"dueDateIsVisible\")===NO&&this._setMeridian(\"dueDate\",t)),Reminders.formatMeridian(this._getPropertyAsDateTime(\"triggerOnDate\"))}.property(\"content.triggerOnDate\"\n).cacheable(),selectedDueDateMeridian:function(e,t){var n=this.get(\"content\");if(SC.none(n))return;return SC.none(t)||this._setMeridian(\"dueDate\",t),Reminders.formatMeridian(this._getPropertyAsDateTime(\"dueDate\"))}.property(\"content.dueDate\").cacheable(),selectedCollection:function(e,t){var n=this.get(\"content\");if(SC.none(n))return;return SC.none(t)||ReminderDetails.reminderDetailsController.setCollection(t),n.getPath(\"collection.guid\")}.property(\"content.pGuid\").cacheable(),isTriggerOnDateSet:function(e,t){var n=this.get(\"content\"),r,i,s,o;if(SC.none(n))return;return SC.none(t)||(o=this.get(\"dueDateIsVisible\"),t===YES?(i=n.get(\"previousTriggerOnDate\"),s=n.get(\"previousRecurrence\"),SC.none(i)?r=Reminders.nextHourDateTimeArray():(r=i,n.set(\"previousTriggerOnDate\",null)),!SC.none(s)&&n.get(\"recurrence\")&&(n.get(\"recurrence\").clear(),n.get(\"recurrence\").set(s)),n.set(\"triggerOnDate\",r),o||(n.set(\"dueDate\",r),n.set(\"dueDateIsAllDay\",NO))):(n.set(\"previousTriggerOnDate\",n.get(\"triggerOnDate\")),n.set(\"triggerOnDate\",null),n.set(\"previousRecurrence\",SC.clone(n.getPath(\"recurrence.attributes\"))),n.get(\"recurrence\").clear(),o||(n.set(\"dueDate\",null),n.set(\"dueDateIsAllDay\",NO))),Reminders.forceRunLoop()),n.get(\"hasTriggerOnDate\")}.property(\"content.dueDate\",\"content.hasDueDate\",\"content.triggerOnDate\").cacheable(),triggerOnTime:function(){var e=this.get(\"content\");if(SC.none(e))return;return Reminders.formatTime(this._getPropertyAsDateTime(\"triggerOnDate\"))}.property(\"content.triggerOnDate\").cacheable(),dueTime:function(){var e=this.get(\"content\");if(SC.none(e))return;return Reminders\n.formatTime(this._getPropertyAsDateTime(\"dueDate\"))}.property(\"content.dueDate\").cacheable(),isDueDateSet:function(e,t){var n=this.get(\"content\"),r,i,s;if(SC.none(n))return;return SC.none(t)||(t===YES?(i=n.get(\"previousDueDate\"),s=n.get(\"previousDueDateIsAllDay\"),!SC.none(i)&&!SC.none(s)?(n.set(\"dueDate\",i),n.set(\"dueDateIsAllDay\",s),n.set(\"previousDueDate\",null),n.set(\"previousDueDateIsAllDay\",NO)):(n.set(\"dueDate\",Reminders.nextHourDateTimeArray()),n.set(\"dueDateIsAllDay\",NO))):(n.set(\"previousDueDate\",n.get(\"dueDate\")),n.set(\"previousDueDateIsAllDay\",n.get(\"dueDateIsAllDay\")),n.set(\"dueDate\",null),n.set(\"dueDateIsAllDay\",NO)),Reminders.forceRunLoop()),n.get(\"hasDueDate\")}.property(\"content.dueDate\").cacheable(),isRecurrenceEndDateSet:function(e,t){var n=this.get(\"content\"),r,i,s,o;if(SC.none(n))return;return SC.none(t)||(r=n.get(\"recurrence\"),SC.none(r)&&CW.fatalError(\"No recurrence can not set end date\"),t===YES?(n.get(\"hasDueDate\")?s=n.get(\"dueDate\"):n.get(\"hasTriggerOnDate\")?s=n.get(\"triggerOnDate\"):CW.fatalError(\"No due date or trigger on date. Can't set a recurrence end date value\"),o=CW.Date.create(s),o.incrementDate(7),s=o.done(),s[4]=23,s[5]=59,r.set(\"until\",s)):r.set(\"until\",null),Reminders.forceRunLoop()),n.get(\"hasRecurrenceEndDate\")}.property(\"content.hasRecurrenceEndDate\").cacheable(),dueDateIsVisible:function(){return this.dueDateIsVisibleOnLaunch}.property(),dueDateIsVisibleAndHasValue:function(){var e=this.get(\"content\");return SC.none(e)?NO:this.get(\"dueDateIsVisible\")&&e.get(\"hasDueDate\")}.property(\"content.dueDate\"),recurrenceIsVisible:function(){var e=\nthis.get(\"content\"),t,n,r;return SC.none(e)?NO:(t=e.get(\"hasTriggerOnDate\"),n=e.get(\"hasDueDate\"),r=this.get(\"dueDateIsVisible\"),t||r&&n)}.property(\"content.dueDate\",\"content.triggerOnDate\").cacheable(),setRemindMeDate:function(e){this.setDateOnProperty(\"triggerOnDate\",e),this.get(\"dueDateIsVisible\")===NO&&this.setDateOnProperty(\"dueDate\",e)},setRemindMeTime:function(e){this.setTimeOnProperty(\"triggerOnDate\",e),this.get(\"dueDateIsVisible\")===NO&&this.setTimeOnProperty(\"dueDate\",e)},setDateOnProperty:function(e,t){var n=this.get(\"content\");if(SC.none(n)||SC.none(t))return;n.setIfChanged(e,t)},setTimeOnProperty:function(e,t){var n=this.get(\"content\"),r;if(SC.none(n)||SC.none(t))return;r=this._getPropertyAsDateTime(e);if(SC.none(r))return;Reminders.setTime(r,t),n.setIfChanged(e,r.done())},_setMeridian:function(e,t){var n=this.get(\"content\"),r;r=this._getPropertyAsDateTime(e),SC.none(r)||(Reminders.setMeridian(r,t),n.setIfChanged(e,r.done()))},_getPropertyAsDateTime:function(e){var t=this.get(\"content\"),n;if(SC.none(t))return;n=t.get(e);if(SC.none(n))return;return CW.Date.create(n,CW.DATE_TIME)},_shouldShowDueDateOnLaunch:function(){var e=this.get(\"content\"),t=e.get(\"hasDueDate\"),n=e.get(\"dueDateIsAllDay\"),r=e.get(\"hasTriggerOnDate\"),i=e.get(\"primaryAlarm\"),s=i?i.get(\"hasMeasurement\"):NO,o;return!t&&!r?NO:!t&&r?YES:t&&!r?YES:n?YES:(o=e.get(\"triggerOnDateEqualsDueDate\")===NO,o)}}),ReminderDetails.DatePickerCalendarView=Reminders.MonthCalendarView.extend({classNames:\"date-picker\",_separatorDivStr:'<div class=\"date-picker generic-separator\">',_divEndStr:\"</div>\",blocksIEDeactivate:\nYES,render:function(e,t){var n=arguments.callee.base.apply(this,arguments);return t&&e.push(this._separatorDivStr,this._divEndStr),n},selectOnMouseUp:YES,touchStart:function(e){return this.mouseDown(e)},touchEnd:function(e){return this.mouseUp(e)},mouseDown:function(e){var t=e.target||e.srcElement,n=SC.$(t);return this._selectedDate=n.attr(\"d\"),this._selectedTarget=t,n.addClass(\"active\"),YES},mouseDragged:function(e){var t=e.target||e.srcElement,n=SC.$(t).attr(\"d\");return this._selectedDate!==n?SC.$(this._selectedTarget).removeClass(\"active\"):SC.$(this._selectedTarget).addClass(\"active\"),NO},touchesDragged:function(e,t){var n=t[0];return n&&n.target?this.mouseDragged(n):NO}}),ReminderDetails.DatePicker=CW.PickerPane.extend(CW.Animatability,CW.PaneFadingSupport,{HEADER_HEIGHT:64,ROW_HEIGHT:23,FOOTER_HEIGHT:10,classNames:\"date-picker\",layouts:[\"onBottom\"],onBottom:CW.PickerLayout.OnSide.extend({pointAtSide:CW.BOTTOM_SIDE,distanceFromRectangle:0}),desiredSize:{width:205,height:200},minimumSize:{width:205,height:200},renderStyle:\"cw-no-pointers\",acceptsFirstResponder:NO,acceptsKeyPane:NO,isModal:YES,shouldDismissAutomatically:YES,date:CW.Date.create().done(),modalPane:SC.ModalPane.extend({sendEvent:function(e,t,n){var r=arguments.callee.base.apply(this,arguments);return t.redirectMouseToView?t.redirectMouseToView:r}}),calendarController:Reminders.MonthCalendarViewController.extend({viewClass:ReminderDetails.DatePickerCalendarView,selectedDateBinding:\".owner.date\"}),numRows:0,numRowsBinding:\".calendarController.numRows\",init:function(){this.calendarController=this.calendarController\n.create({owner:this}),arguments.callee.base.apply(this,arguments)},createChildViews:function(){this.appendChild(this.calendarController.get(\"view\"))}.property().cacheable(),numRowsDidChange:function(){var e=this.HEADER_HEIGHT+this.get(\"numRows\")*this.ROW_HEIGHT+this.FOOTER_HEIGHT;this.adjustDesiredSize(\"height\",e),this.adjustMinimumSize(\"height\",e)}.observes(\"numRows\"),applyLayout:function(e){if(!e)return arguments.callee.base.apply(this,arguments);var t=e.get(\"reasonsForRelayout\");this.getPath(\"calendarController.hasBeenShownToUser\")&&t.contains(CW.RELAYOUT_FOR_DESIRED_SIZE)&&!t.contains(CW.RELAYOUT_FOR_TARGET)?this.animate(e.get(\"layout\"),{duration:250}):this.set(\"layout\",e.get(\"layout\"))},dismiss:function(){var e=this.get(\"owner\");return e&&e.resignFirstResponder(),arguments.callee.base.apply(this,arguments)},mouseDown:function(e){return this.modalPaneDidClick(e)},modalPaneDidClick:function(e){var t=this.get(\"frame\");return this.get(\"parentView\")&&(t=this.get(\"parentView\").convertFrameToView(t,null)),e.pageX>=t.x&&e.pageY>=t.y&&e.pageX<=t.x+t.width&&e.pageY<=t.y+t.height?NO:this.gotClickOutsideFrame(e)},gotClickOutsideFrame:function(e){var t=SC.$(e.target).css(\"display\");this.$().css(\"display\",\"none\"),this.get(\"modalPane\").$().css(\"display\",\"none\");var n=document.elementFromPoint(e.clientX,e.clientY);this.$().css(\"display\",\"block\"),this.get(\"modalPane\").$().css(\"display\",\"block\");var r=SC.$(n).view()[0],i=this.get(\"owner\");(!r||r!==this.get(\"owner\"))&&this.dismiss();if(r&&r.get(\"pane\")!==this.getPath(\"owner.pane\"))return;return e.target=n,r&&r.get(\"pane\")&&i&&i.passThroughClickForView&&\ni.passThroughClickForView(r)&&(e.redirectMouseToView=r.get(\"pane\").sendEvent(\"mouseDown\",e,r)),NO},sendEvent:function(e,t,n){var r=arguments.callee.base.apply(this,arguments);return t.redirectMouseToView?t.redirectMouseToView:r}});";