SC.MODULE_INFO['reminders/collection_details'].source = "SC.metricsFor(\"en-us\",{}),SC.stringsFor(\"zh-cn\",{\"OptionsPicker.ListColorLabel\":\"列表颜色\"}),CollectionDetails=SC.Object.create({NAMESPACE:\"CollectionDetails\",VERSION:\"1.0\",displayDetailsDialog:function(e,t){CollectionDetails.collectionDetailsDisplayController.displayDetailsDialog(e,t)}}),CollectionDetails.collectionDetailsController=SC.ObjectController.create({content:null,_detailsNestedStore:null,setContent:function(e){var t=this.getStore();e=t.materializeRecord(e.get(\"storeKey\"));if(SC.none(e)){CW.fatalError(\"ReminderDetailsController.setContent passed null value\");return}this.set(\"content\",e),Reminders.forceRunLoop()},deleteContent:function(){var e=this.get(\"content\"),t=this.getStore(),n=Reminders.collectionsController.getStore();if(SC.none(e)){CW.fatalError(\"CollectionDetailsController.deleteContent requested but no content assigne\");return}e=n.materializeRecord(e.storeKey),t.discardChanges(),this.releaseStore(),Reminders.deleteDialogController.deleteCollection(e)},commitChanges:function(){var e=this.getStore();e.commitChanges(),this.releaseStore(),Reminders.collectionsController.getStore().reset()},discardChanges:function(){var e=this.getStore();e.discardChanges(),this.releaseStore()},releaseStore:function(){if(SC.none(this._detailsNestedStore)){CW.fatalError(\"ReminderDetailsController.deleteContent requested but no content assigne\");return}this._detailsNestedStore.destroy(),this._detailsNestedStore=null,this.set(\"content\",null)},getStore:function(){return SC.none(this._detailsNestedStore)&&(this._detailsNestedStore=Reminders.NestedStore.chain(\"CollectionDetails nested store\"\n,Reminders.store)),this._detailsNestedStore}}),CollectionDetails.collectionDetailsDisplayController=SC.Object.create({detailsDialog:null,contentBinding:\"CollectionDetails.collectionDetailsController.content\",displayDetailsDialog:function(e,t){if(!SC.none(this.detailsDialog)){SC.debug(\"A reminder details dialog is already showing\");return}CollectionDetails.collectionDetailsController.setContent(t),this.detailsDialog=CollectionDetails.DetailsDialog.create(),this.detailsDialog.popup(e)},deleteCollection:function(){this.removeDialog(),CollectionDetails.collectionDetailsController.deleteContent()},revertChanges:function(){this.removeDialog(),CollectionDetails.collectionDetailsController.discardChanges()},saveChanges:function(){this.removeDialog(),CollectionDetails.collectionDetailsController.commitChanges()},removeDialog:function(){this.detailsDialog.remove(),this.detailsDialog=null},saveColor:function(e){var t=Reminders.Collection.ICLOUD_COLOR_MAP[e],n=CollectionDetails.collectionDetailsController;n.set(\"color\",t),n.set(\"symbolicColor\",e)}}),CollectionDetails.ButtonContainerView=SC.View.extend({classNames:[\"button-container\"],childViews:[\"leftView\",\"rightView\"],leftView:SC.View.design({layout:{width:130,centerY:0,height:35},classNames:[\"left-view\"],childViews:[\"deleteButtonView\"],deleteButtonView:SC.ButtonView.extend({useStaticLayout:YES,isOwnedByMeBinding:SC.Binding.oneWay(\"Reminders.collectionController.isOwnedByMe\"),classNames:[\"delete-button\"],isDelete:YES,themeName:\"borderless\",layout:{left:0,height:25,bottom:0,width:\"auto\"},titleMinWidth:0,controlSize:SC.REGULAR_CONTROL_SIZE\n,target:CollectionDetails.collectionDetailsDisplayController,action:\"deleteCollection\",title:function(){var e=this.get(\"isOwnedByMe\")?\"Button.Delete\":\"Button.Collection.Leave\";return e.loc()}.property(\"isOwnedByMe\").cacheable(),isVisibleBinding:SC.Binding.not(\"Reminders.collectionController.isFamily\")})}),rightView:SC.View.design({layout:{width:\"208\",right:0,centerY:0,height:35},childViews:[\"cancelButtonView\",\"separatorView\",\"doneButtonView\"],classNames:[\"right-view\"],cancelButtonView:SC.ButtonView.extend({useStaticLayout:YES,classNames:[\"cancel-button\"],themeName:\"borderless\",layout:{right:53,height:25,width:\"auto\",bottom:0},title:\"Button.Cancel\".loc(),titleMinWidth:64,target:CollectionDetails.collectionDetailsDisplayController,action:\"revertChanges\"}),separatorView:SC.SeparatorView.design({useStaticLayout:YES,layoutDirection:SC.LAYOUT_VERTICAL,layout:{width:\"auto\",height:35,bottom:SC.browser.isIE?6:0,right:25}}),doneButtonView:SC.ButtonView.design({useStaticLayout:YES,classNames:[\"done-button\"],isDefault:YES,themeName:\"borderless\",layout:{right:0,height:25,bottom:0,width:\"auto\"},title:\"Button.Done\".loc(),titleMinWidth:64,target:CollectionDetails.collectionDetailsDisplayController,action:\"saveChanges\"})})}),CollectionDetails.ColorRow=SC.View.extend({content:Reminders.Collection.COLORS,acceptsFirstResponder:YES,_mouseDownTarget:null,selectedColorName:null,displayProperties:[\"selectedColorName\"],render:function(e,t){t&&Reminders.forceRunLoop();var n,r=this.get(\"content\"),i=r.get(\"length\"),s=this.get(\"selectedColorName\"),o,u,a;for(n=0;n<i;n++)o=r[n],u=n===0?\"first-color\":\"\",a=\ns===o?\"sel\":\"\",this.renderColor(e,o,u,a)},renderColor:function(e,t,n,r){e.push('<div class=\"selection-circle %@ %@ %@\">'.fmt(t,n,r),'<div class=\"collection-color-icon %@\"></div>'.fmt(t),\"</div>\")},mouseDown:function(e){return this._mouseDownTarget=e.target,YES},mouseUp:function(e){var t=e.target;if(t!==this._mouseDownTarget)return this._mouseDownTarget=null,YES;var n=t.className.split(\" \"),r=n.length,i=this.get(\"content\"),s=i.get(\"length\"),o=0,u=0,a=this.get(\"selectedColorName\");for(o=0;o<r;o++){var f=n[o];for(u=0;u<s;u++){var l=i[u];f===l&&CollectionDetails.collectionDetailsDisplayController.saveColor(l)}}return this._mouseDownTarget=null,YES}}),CollectionDetails.DetailsDialog=CW.PickerPane.extend({classNames:[\"details-dialog\"],layouts:[\"onLeft\"],onLeft:CW.PickerLayout.ON_LEFT,desiredSize:{width:355,height:226},shouldDismissAutomatically:NO,isModal:YES,keyboardShortcuts:{escape:\"revertChangesOnDismiss\"},dismissAction:\"saveChangesOnDismiss\",revertChangesOnDismiss:function(){CollectionDetails.collectionDetailsDisplayController.revertChanges()},saveChangesOnDismiss:function(){CollectionDetails.collectionDetailsDisplayController.saveChanges()},contentView:SC.View.design({classNames:[\"details-content\"],childViews:[\"mainContentView\",\"separatorView\"],mainContentView:SC.View.design({childViews:[\"collectionName\",\"listColor\",\"colorRow\",\"buttonRow\"],layout:{left:18,right:21,top:19,bottom:4},contentBinding:\"CollectionDetails.collectionDetailsController.content\",collectionName:SC.TextFieldView.design({classNames:[\"collection-name\"],layout:{left:2,right:0,top:0,height:42},controlSize:SC.\nCUSTOM_CONTROL_SIZE,value:\"\",collectionBinding:\"*owner.content\",colorNameBinding:\"*owner.content.colorName\",displayProperties:[\"colorName\"],collectionDidChange:function(){var e=this.get(\"collection\");e&&this.set(\"value\",e.get(\"title\"))}.observes(\"collection\"),valueDidChange:function(){var e=this.get(\"collection\"),t=this.get(\"value\");if(!e)return;Reminders.canSetTitle(e,t)&&e.set(\"title\",t)}.observes(\"value\"),render:function(e,t){var n=this.get(\"colorName\");return n&&e.addClass(n),arguments.callee.base.apply(this,arguments)}}),listColor:SC.LabelView.design({classNames:[\"list-color\"],layout:{left:2,top:63,height:22},controlSize:SC.LARGE_CONTROL_SIZE,value:\"OptionsPicker.ListColorLabel\",localize:YES}),colorRow:CollectionDetails.ColorRow.design({layout:{left:0,top:97,height:33},selectedColorNameBinding:\"*owner.content.colorName\"}),buttonRow:CollectionDetails.ButtonContainerView.design({layout:{bottom:0,height:35}})}),separatorView:SC.SeparatorView.design({layout:{bottom:54,height:2}})})});";